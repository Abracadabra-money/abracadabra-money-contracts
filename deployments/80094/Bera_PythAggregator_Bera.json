{
  "address": "0xE8de4C60Da9c00Da512c827e02224c8609fc916a",
  "abi": [
    {
      "type": "constructor",
      "inputs": [
        {
          "name": "_description",
          "type": "string",
          "internalType": "string"
        },
        {
          "name": "_pyth",
          "type": "address",
          "internalType": "contract IPyth"
        },
        {
          "name": "_feedId",
          "type": "bytes32",
          "internalType": "bytes32"
        },
        {
          "name": "_maxAge",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "decimals",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "uint8",
          "internalType": "uint8"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "description",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "string",
          "internalType": "string"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "feedId",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "bytes32",
          "internalType": "bytes32"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "latestAnswer",
      "inputs": [],
      "outputs": [
        {
          "name": "_price",
          "type": "int256",
          "internalType": "int256"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "latestRoundData",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "uint80",
          "internalType": "uint80"
        },
        {
          "name": "answer",
          "type": "int256",
          "internalType": "int256"
        },
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        },
        {
          "name": "updatedAt",
          "type": "uint256",
          "internalType": "uint256"
        },
        {
          "name": "",
          "type": "uint80",
          "internalType": "uint80"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "maxAge",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "pyth",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "contract IPyth"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "error",
      "name": "InvalidDecimals",
      "inputs": []
    },
    {
      "type": "error",
      "name": "NegativePriceFeed",
      "inputs": []
    }
  ],
  "bytecode": "0x610100604052348015610010575f5ffd5b506040516109a93803806109a983398101604081905261002f91610183565b5f61003a85826102b9565b506001600160a01b038316608081905260a083905260c08290526040516396834ad360e01b8152600481018490525f91906396834ad390602401608060405180830381865afa15801561008f573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906100b39190610373565b90505f816040015160030b13156100dd57604051630692acc560e51b815260040160405180910390fd5b80604001516100eb906103e9565b60ff1660e052506104169350505050565b634e487b7160e01b5f52604160045260245ffd5b604051608081016001600160401b0381118282101715610132576101326100fc565b60405290565b604051601f8201601f191681016001600160401b0381118282101715610160576101606100fc565b604052919050565b80516001600160a01b038116811461017e575f5ffd5b919050565b5f5f5f5f60808587031215610196575f5ffd5b84516001600160401b038111156101ab575f5ffd5b8501601f810187136101bb575f5ffd5b80516001600160401b038111156101d4576101d46100fc565b6101e7601f8201601f1916602001610138565b8181528860208385010111156101fb575f5ffd5b8160208401602083015e5f6020838301015280965050505061021f60208601610168565b6040860151606090960151949790965092505050565b600181811c9082168061024957607f821691505b60208210810361026757634e487b7160e01b5f52602260045260245ffd5b50919050565b601f8211156102b457805f5260205f20601f840160051c810160208510156102925750805b601f840160051c820191505b818110156102b1575f815560010161029e565b50505b505050565b81516001600160401b038111156102d2576102d26100fc565b6102e6816102e08454610235565b8461026d565b6020601f821160018114610318575f83156103015750848201515b5f19600385901b1c1916600184901b1784556102b1565b5f84815260208120601f198516915b828110156103475787850151825560209485019460019092019101610327565b508482101561036457868401515f19600387901b60f8161c191681555b50505050600190811b01905550565b5f6080828403128015610384575f5ffd5b5061038d610110565b82518060070b811461039d575f5ffd5b815260208301516001600160401b03811681146103b8575f5ffd5b60208201526040830151600381900b81146103d1575f5ffd5b60408201526060928301519281019290925250919050565b5f8160030b637fffffff19810361040e57634e487b7160e01b5f52601160045260245ffd5b5f0392915050565b60805160a05160c05160e0516105476104625f395f8181608501526102b601525f818160f601526101e001525f818160b901526101ba01525f8181610132015261021201526105475ff3fe608060405234801561000f575f5ffd5b506004361061007a575f3560e01c8063687043c511610058578063687043c5146100f15780637284e41614610118578063f98d06f01461012d578063feaf968c1461016c575f5ffd5b8063313ce5671461007e5780634a643499146100b457806350d25bcd146100e9575b5f5ffd5b60405160ff7f00000000000000000000000000000000000000000000000000000000000000001681526020015b60405180910390f35b6100db7f000000000000000000000000000000000000000000000000000000000000000081565b6040519081526020016100ab565b6100db6101ab565b6100db7f000000000000000000000000000000000000000000000000000000000000000081565b610120610313565b6040516100ab91906103be565b6101547f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100ab565b61017461039e565b6040805169ffffffffffffffffffff968716815260208101959095528401929092526060830152909116608082015260a0016100ab565b60405163052571af60e51b81527f000000000000000000000000000000000000000000000000000000000000000060048201527f000000000000000000000000000000000000000000000000000000000000000060248201525f9081906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063a4ae35e090604401608060405180830381865afa158015610257573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061027b9190610420565b90505f815f015160070b12156102a4576040516365a6a9cd60e11b815260040160405180910390fd5b5f816040015160030b13806102ec57507f000000000000000000000000000000000000000000000000000000000000000060ff1681604001516102e6906104ac565b60ff1614155b1561030a57604051630692acc560e51b815260040160405180910390fd5b5160070b919050565b5f805461031f906104d9565b80601f016020809104026020016040519081016040528092919081815260200182805461034b906104d9565b80156103965780601f1061036d57610100808354040283529160200191610396565b820191905f5260205f20905b81548152906001019060200180831161037957829003601f168201915b505050505081565b5f5f5f5f5f5f6103ac6101ab565b90969095505f94508493508392509050565b602081525f82518060208401528060208501604085015e5f604082850101526040601f19601f83011684010191505092915050565b805167ffffffffffffffff8116811461040a575f5ffd5b919050565b8051600381900b811461040a575f5ffd5b5f6080828403128015610431575f5ffd5b506040516080810167ffffffffffffffff8111828210171561046157634e487b7160e01b5f52604160045260245ffd5b6040528251600781900b8114610475575f5ffd5b8152610483602084016103f3565b60208201526104946040840161040f565b60408201526060928301519281019290925250919050565b5f8160030b637fffffff1981036104d157634e487b7160e01b5f52601160045260245ffd5b5f0392915050565b600181811c908216806104ed57607f821691505b60208210810361050b57634e487b7160e01b5f52602260045260245ffd5b5091905056fea26469706673582212200621908ed3f5c1e07dfd1f29dcb40a95745846ad7be5a8143a840a0c4291481b64736f6c634300081c0033",
  "args_data": "0x00000000000000000000000000000000000000000000000000000000000000800000000000000000000000002880ab155794e7179c9ee2e38200202908c17b43962088abcfdbdb6e30db2e340c8cf887d9efb311b1f2f17b155a63dbb6d40265000000000000000000000000000000000000000000000000000000000000003c0000000000000000000000000000000000000000000000000000000000000008424552412f555344000000000000000000000000000000000000000000000000",
  "tx_hash": "0x88f8b01b4401f75110f7d0a6cc2dc7845076c70787160fbbaa68079cf788a301",
  "args": [
    "BERA/USD",
    "0x2880aB155794e7179c9eE2e38200202908C17B43",
    "0x962088abcfdbdb6e30db2e340c8cf887d9efb311b1f2f17b155a63dbb6d40265",
    "60"
  ],
  "data": "0x610100604052348015610010575f5ffd5b506040516109a93803806109a983398101604081905261002f91610183565b5f61003a85826102b9565b506001600160a01b038316608081905260a083905260c08290526040516396834ad360e01b8152600481018490525f91906396834ad390602401608060405180830381865afa15801561008f573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906100b39190610373565b90505f816040015160030b13156100dd57604051630692acc560e51b815260040160405180910390fd5b80604001516100eb906103e9565b60ff1660e052506104169350505050565b634e487b7160e01b5f52604160045260245ffd5b604051608081016001600160401b0381118282101715610132576101326100fc565b60405290565b604051601f8201601f191681016001600160401b0381118282101715610160576101606100fc565b604052919050565b80516001600160a01b038116811461017e575f5ffd5b919050565b5f5f5f5f60808587031215610196575f5ffd5b84516001600160401b038111156101ab575f5ffd5b8501601f810187136101bb575f5ffd5b80516001600160401b038111156101d4576101d46100fc565b6101e7601f8201601f1916602001610138565b8181528860208385010111156101fb575f5ffd5b8160208401602083015e5f6020838301015280965050505061021f60208601610168565b6040860151606090960151949790965092505050565b600181811c9082168061024957607f821691505b60208210810361026757634e487b7160e01b5f52602260045260245ffd5b50919050565b601f8211156102b457805f5260205f20601f840160051c810160208510156102925750805b601f840160051c820191505b818110156102b1575f815560010161029e565b50505b505050565b81516001600160401b038111156102d2576102d26100fc565b6102e6816102e08454610235565b8461026d565b6020601f821160018114610318575f83156103015750848201515b5f19600385901b1c1916600184901b1784556102b1565b5f84815260208120601f198516915b828110156103475787850151825560209485019460019092019101610327565b508482101561036457868401515f19600387901b60f8161c191681555b50505050600190811b01905550565b5f6080828403128015610384575f5ffd5b5061038d610110565b82518060070b811461039d575f5ffd5b815260208301516001600160401b03811681146103b8575f5ffd5b60208201526040830151600381900b81146103d1575f5ffd5b60408201526060928301519281019290925250919050565b5f8160030b637fffffff19810361040e57634e487b7160e01b5f52601160045260245ffd5b5f0392915050565b60805160a05160c05160e0516105476104625f395f8181608501526102b601525f818160f601526101e001525f818160b901526101ba01525f8181610132015261021201526105475ff3fe608060405234801561000f575f5ffd5b506004361061007a575f3560e01c8063687043c511610058578063687043c5146100f15780637284e41614610118578063f98d06f01461012d578063feaf968c1461016c575f5ffd5b8063313ce5671461007e5780634a643499146100b457806350d25bcd146100e9575b5f5ffd5b60405160ff7f00000000000000000000000000000000000000000000000000000000000000001681526020015b60405180910390f35b6100db7f000000000000000000000000000000000000000000000000000000000000000081565b6040519081526020016100ab565b6100db6101ab565b6100db7f000000000000000000000000000000000000000000000000000000000000000081565b610120610313565b6040516100ab91906103be565b6101547f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100ab565b61017461039e565b6040805169ffffffffffffffffffff968716815260208101959095528401929092526060830152909116608082015260a0016100ab565b60405163052571af60e51b81527f000000000000000000000000000000000000000000000000000000000000000060048201527f000000000000000000000000000000000000000000000000000000000000000060248201525f9081906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063a4ae35e090604401608060405180830381865afa158015610257573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061027b9190610420565b90505f815f015160070b12156102a4576040516365a6a9cd60e11b815260040160405180910390fd5b5f816040015160030b13806102ec57507f000000000000000000000000000000000000000000000000000000000000000060ff1681604001516102e6906104ac565b60ff1614155b1561030a57604051630692acc560e51b815260040160405180910390fd5b5160070b919050565b5f805461031f906104d9565b80601f016020809104026020016040519081016040528092919081815260200182805461034b906104d9565b80156103965780601f1061036d57610100808354040283529160200191610396565b820191905f5260205f20905b81548152906001019060200180831161037957829003601f168201915b505050505081565b5f5f5f5f5f5f6103ac6101ab565b90969095505f94508493508392509050565b602081525f82518060208401528060208501604085015e5f604082850101526040601f19601f83011684010191505092915050565b805167ffffffffffffffff8116811461040a575f5ffd5b919050565b8051600381900b811461040a575f5ffd5b5f6080828403128015610431575f5ffd5b506040516080810167ffffffffffffffff8111828210171561046157634e487b7160e01b5f52604160045260245ffd5b6040528251600781900b8114610475575f5ffd5b8152610483602084016103f3565b60208201526104946040840161040f565b60408201526060928301519281019290925250919050565b5f8160030b637fffffff1981036104d157634e487b7160e01b5f52601160045260245ffd5b5f0392915050565b600181811c908216806104ed57607f821691505b60208210810361050b57634e487b7160e01b5f52602260045260245ffd5b5091905056fea26469706673582212200621908ed3f5c1e07dfd1f29dcb40a95745846ad7be5a8143a840a0c4291481b64736f6c634300081c003300000000000000000000000000000000000000000000000000000000000000800000000000000000000000002880ab155794e7179c9ee2e38200202908c17b43962088abcfdbdb6e30db2e340c8cf887d9efb311b1f2f17b155a63dbb6d40265000000000000000000000000000000000000000000000000000000000000003c0000000000000000000000000000000000000000000000000000000000000008424552412f555344000000000000000000000000000000000000000000000000",
  "artifact_path": "PythAggregator.sol",
  "artifact_full_path": "PythAggregator.sol:PythAggregator",
  "standardJsonInput": {
    "language": "Solidity",
    "sources": {
      "src/oracles/aggregators/PythAggregator.sol": {
        "content": "// SPDX-License-Identifier: MIT\npragma solidity >=0.8.0;\n\nimport {IAggregator} from \"/interfaces/IAggregator.sol\";\nimport {IPyth} from \"/interfaces/IPyth.sol\";\n\ncontract PythAggregator is IAggregator {\n    error InvalidDecimals();\n    error NegativePriceFeed();\n\n    IPyth public immutable pyth;\n    bytes32 public immutable feedId;\n    uint256 public immutable maxAge;\n    string public description;\n\n    uint8 private immutable _decimals;\n\n    constructor(string memory _description, IPyth _pyth, bytes32 _feedId, uint256 _maxAge) {\n        description = _description;\n        pyth = _pyth;\n        feedId = _feedId;\n        maxAge = _maxAge;\n\n        IPyth.PriceInfo memory priceInfo = _pyth.getPriceUnsafe(_feedId);\n\n        if (priceInfo.expo > 0) {\n            revert InvalidDecimals();\n        }\n\n        _decimals = uint8(uint32(-priceInfo.expo));\n    }\n\n    function decimals() external view override returns (uint8) {\n        return _decimals;\n    }\n\n    function latestAnswer() public view returns (int256 _price) {\n        IPyth.PriceInfo memory priceInfo = pyth.getPriceNoOlderThan(feedId, maxAge);\n\n        if (priceInfo.price < 0) {\n            revert NegativePriceFeed();\n        }\n\n        if (priceInfo.expo > 0 || uint8(uint32(-priceInfo.expo)) != _decimals) {\n            revert InvalidDecimals();\n        }\n\n        return priceInfo.price;\n    }\n\n    function latestRoundData() public view returns (uint80, int256 answer, uint256, uint256 updatedAt, uint80) {\n        return (0, latestAnswer(), 0, 0, 0);\n    }\n}\n"
      },
      "src/interfaces/IAggregator.sol": {
        "content": "// SPDX-License-Identifier: MIT\npragma solidity >=0.8.0;\n\ninterface IAggregator {\n    function decimals() external view returns (uint8);\n\n    function latestAnswer() external view returns (int256 answer);\n\n    function latestRoundData()\n        external\n        view\n        returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);\n}\n\ninterface IAggregatorWithMeta is IAggregator {\n    function description() external view returns (string memory);\n\n    function version() external view returns (uint256);\n}\n"
      },
      "src/interfaces/IPyth.sol": {
        "content": "// SPDX-License-Identifier: UNLICENSED\npragma solidity >=0.8.0;\n\ninterface IPyth {\n    struct PriceInfo {\n        int64 price;\n        uint64 conf;\n        int32 expo;\n        uint256 publishTime;\n    }\n\n    function getPriceNoOlderThan(bytes32 id, uint256 age) external view returns (PriceInfo memory priceInfo);\n    function getPrice(bytes32 id) external view returns (PriceInfo memory priceInfo);\n    function getPriceUnsafe(bytes32 id) external view returns (PriceInfo memory priceInfo);\n}\n"
      }
    },
    "settings": {
      "remappings": [
        "/=src/",
        "forge-std/=dependencies/forge-std-1.9.5/src/",
        "halmos-cheatcodes/=dependencies/halmos-cheatcodes-7328abe/src/",
        "@openzeppelin/contracts/=dependencies/openzeppelin-contracts-5.0.2/contracts/",
        "@openzeppelin/contracts-upgradeable/=dependencies/openzeppelin-contracts-upgradeable-5.0.2/contracts/",
        "@BoringSolidity/=dependencies/BoringSolidity-1.0.0/contracts/",
        "@solady/=dependencies/solady-0.0.281/src/",
        "@solmate/=dependencies/solmate-6.2.0/src/",
        "@excessivelySafeCall/=dependencies/ExcessivelySafeCall-0.0.1/src/",
        "@safe-contracts/=dependencies/safe-contracts-1.3.0/contracts/",
        "@fuzzlib/=dependencies/fuzzlib-0.0.1/src/",
        "@abracadabra-oft-v1/=dependencies/abracadabra-oft-v1-0.0.1/src/",
        "@prb/math/=dependencies/prb-math-4.1.0/src/"
      ],
      "optimizer": {
        "enabled": true,
        "runs": 400
      },
      "metadata": {
        "useLiteralContent": false,
        "bytecodeHash": "ipfs",
        "appendCBOR": true
      },
      "outputSelection": {
        "*": {
          "*": [
            "abi",
            "evm.bytecode.object",
            "evm.bytecode.sourceMap",
            "evm.bytecode.linkReferences",
            "evm.deployedBytecode.object",
            "evm.deployedBytecode.sourceMap",
            "evm.deployedBytecode.linkReferences",
            "evm.deployedBytecode.immutableReferences",
            "evm.methodIdentifiers",
            "metadata"
          ]
        }
      },
      "evmVersion": "cancun",
      "viaIR": false,
      "libraries": {}
    }
  },
  "compiler": "0.8.28+commit.7893614a"
}